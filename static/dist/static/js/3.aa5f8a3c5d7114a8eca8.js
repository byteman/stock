webpackJsonp([3],{YJNj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("M9A7"),o={data:function(){return{tableData:[]}},methods:{handleUpdateNormal:function(t,e){var a=this;console.log(e);Object(n.f)(e.id,{pay_type:2}).then(function(t){a.fetchData()})},handleUpdateVip:function(t,e){var a=this;Object(n.f)(e.id,{pay_type:3}).then(function(t){a.fetchData()})},handleDelete:function(t,e){var a=this;Object(n.a)(e.id).then(function(t){a.fetchData()})},fetchData:function(){var t=this;this.listLoading=!0,Object(n.c)().then(function(e){t.tableData=e.data,t.listLoading=!1})},formatDatetwo:function(t){var e=/-?\d+/.exec(t),a=new Date(parseInt(e[0])),n={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()},o="yyyy-MM-dd";for(var l in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+l+")").test(o)&&(o=o.replace(RegExp.$1,1===RegExp.$1.length?n[l]:("00"+n[l]).substr((""+n[l]).length)));return o},formatDateTime:function(t,e,a,n){return this.formatDatetwo(1e3*t.reg_date)},formatLoginDateTime:function(t,e,a,n){return this.formatDatetwo(1e3*t.login_date)},formatPayDateTime:function(t,e,a,n){return t.pay_date<1e3?"未开始":this.formatDatetwo(1e3*t.pay_date)},formatPayType:function(t,e,a,n){return console.log(t,e,a,n),0===t.pay_type?"试用用户":1===t.pay_type?"普通用户":2===t.pay_type?"普通付费用户":3===t.pay_type?"高级付费用户":void 0}},mounted:function(){console.log("mouted"),this.fetchData()},filters:{}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"用户编号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reg_date",formatter:t.formatDateTime,label:"注册日期",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_date",formatter:t.formatPayDateTime,label:"付费开始日期",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"姓名",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"password",label:"密码",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",width:"120",label:"电话号码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_type",width:"100",formatter:t.formatPayType,label:"付费类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"login_date",width:"100",formatter:t.formatLoginDateTime,label:"最后登录"}}),t._v(" "),a("el-table-column",{attrs:{prop:"login_count",width:"100",label:"登录次数"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleUpdateNormal(e.$index,e.row)}}},[t._v("普通会员")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleUpdateVip(e.$index,e.row)}}},[t._v("高级会员")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)},staticRenderFns:[]};var r=a("VU/8")(o,l,!1,function(t){a("t4hA")},"data-v-152c9563",null);e.default=r.exports},mHMM:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.line[data-v-152c9563]{\n  text-align: center;\n}\n",""])},t4hA:function(t,e,a){var n=a("mHMM");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("18c38bba",n,!0)}});